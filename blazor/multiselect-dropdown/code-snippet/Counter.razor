
@using Syncfusion.Blazor.Data
@using Syncfusion.Blazor.DropDowns


<div>
    <button @onclick="ClickHandler">Refresh</button>
</div>

<div>
    <SfMultiSelect TValue="int?[]" @ref="ddlinst" TItem="OrderDetails1" Placeholder="e.g. Australia" AllowFiltering =true 
        ShowDropDownIcon="true" PopupHeight="800px">
        <MultiSelectEvents TValue="int?[]" TItem="OrderDetails1" Filtering="@Filter"></MultiSelectEvents>
        <SfDataManager Url="@url" @ref="Datainst" Adaptor="Adaptors.ODataV4Adaptor" CrossDomain=true></SfDataManager>
        <MultiSelectFieldSettings Text="CustomerID" Value="OrderID"></MultiSelectFieldSettings>
    </SfMultiSelect>
</div>


@code {
public string url { get; set; } = "https://services.odata.org/V4/Northwind/Northwind.svc/Orders/?$top=5";

DataManager Datainst { get; set; }

SfMultiSelect<int?[], OrderDetails1> ddlinst { get; set; }

async Task ClickHandler()
    {
        Datainst.Url = "https://services.odata.org/V4/Northwind/Northwind.svc/Orders/?$top=8";
        await ddlinst.RefreshDataAsync();
    }

async Task Filter(FilteringEventArgs args)
    {
        args.PreventDefaultAction = true;
        Datainst.Url = "https://services.odata.org/V4/Northwind/Northwind.svc/Orders/?$top=8";
        await ddlinst.RefreshDataAsync();
    }

public class OrderDetails1
    {
        public int? OrderID { get; set; }
        public string CustomerID { get; set; }
        public int? EmployeeID { get; set; }
        public double? Freight { get; set; }
        public string ShipCity { get; set; }
        public bool Verified { get; set; }
        public DateTime? OrderDate { get; set; }
        public string ShipName { get; set; }
        public string ShipCountry { get; set; }
        public DateTime? ShippedDate { get; set; }
        public string ShipAddress { get; set; }
    }
}